
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [asn1parse](#asn1parse)
  - [需要注意的标志](#需要注意的标志)
  - [EXAMPLES](#examples)
    - [解析文件](#解析文件)
    - [解析DER格式文件](#解析der格式文件)
    - [生成简单的UTF8字符串](#生成简单的utf8字符串)
    - [生成简单的UTF8字符串,不打印，直接输出到文件](#生成简单的utf8字符串不打印直接输出到文件)
    - [使用配置文件生成ASN1 DER格式文件](#使用配置文件生成asn1-der格式文件)

<!-- /code_chunk_output -->



# asn1parse

[openssl.org - openssl asn1parse](https://www.openssl.org/docs/man3.0/man1/openssl-asn1parse.html)

此命令是一个可以解析ASN.1结构的诊断实用程序。它还可用于从ASN.1格式化的数据中提取数据。

## 需要注意的标志

* **-offset** *number*
Starting offset to begin parsing, default is start of file.

* **-length** *number*
Number of bytes to parse, default is until end of file.

* **-i**
Indents the output according to the “depth” of the structures.

* **-oid** *filename*
A file containing additional OBJECT IDENTIFIERs (OIDs). The format of this file is described in the NOTES section below.

* **-strparse** *offset*
Parse the contents octets of the ASN.1 object starting at offset. This option can be used multiple times to “drill down” into a nested structure.

* **-genstr** *string*, **-genconf** *file*
Generate encoded data based on string, file or both using ASN1_generate_nconf(3) format. If file only is present then the string is obtained from the default section using the name asn1. The encoded data is passed through the ASN1 parser and printed out as though it came from a file, the contents can thus be examined and written to a file using the -out option.

* **-strictpem**
If this option is used then -inform will be ignored. Without this option any data in a PEM format input file will be treated as being base64 encoded and processed whether it has the normal PEM BEGIN and END markers or not. This option will ignore any data prior to the start of the BEGIN marker, or after an END marker in a PEM file.

* **-item** *name*
Attempt to decode and print the data as an ASN1_ITEM name. This can be used to print out the fields of any supported ASN.1 structure if the type is known.
## EXAMPLES

### 解析文件

```bash
openssl asn1parse -in file.pem
```

### 解析DER格式文件

```bash
openssl asn1parse -inform DER -in file.der
```

### 生成简单的UTF8字符串

**NOTICE:** ***ubuntu 3.3 bug***

```bash
openssl asn1parse -genstr 'UTF8:Hello World'
```

### 生成简单的UTF8字符串,不打印，直接输出到文件

**NOTICE:** ***ubuntu 3.3 bug***

```bash
openssl asn1parse -genstr 'UTF8:Hello World' -noout -out utf8.der
```

### 使用配置文件生成ASN1 DER格式文件
[配置文件链接](https://www.openssl.org/docs/man3.0/man3/ASN1_generate_nconf.html)

```bash
openssl asn1parse -genconf asn1.cnf -noout -out asn1.der
```

Example config file:

```bash
asn1=SEQUENCE:seq_sect

[seq_sect]

field1=BOOL:TRUE
field2=EXP:0, UTF8:some random string
```
